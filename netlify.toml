# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
# Directory to change to before starting a build.
# This is where we will look for package.json/.nvmrc/etc.
base = "/"

# Directory that contains the deploy-ready HTML files and assets generated by
# the build. This is relative to the base directory if one has been set, or the
# root directory if a base has not been set. This sample publishes the
# directory located at the absolute path "root/project/build-output"
publish = "public/"

# Default build command.
command = "yarn run server-build"

# Command Increase Max Processing Space
# command = "node --max_old_space_size=4096 ./node_modules/.bin/gatsby build"

[build.environment]

GIT_LFS_ENABLED = "true"
GIT_LFS_FETCH_INCLUDE = "true"
NODE_OPTIONS = "--max-old-space-size=4096"
NODE_VERSION = "lts/*"

[build.processing.html]
pretty_urls = true

#[[plugins]]
#package = "netlify-plugin-gatsby-cache"

# [[plugins]]
# package = "netlify-plugin-image-optim"

# [[plugins]]
# package = "netlify-plugin-is-website-vulnerable"
# BUG DETECTED

[[plugins]]
package = "netlify-plugin-submit-sitemap"

[plugins.inputs]

# Path to the sitemap URL (optional, default = /sitemap.xml)
sitemapPath = "/sitemap.xml"

# Enabled providers to submit sitemap to (optional, default = 'google', 'bing'). Possible providers are currently only 'google' and 'bing'.
providers = [
  "google",
  "bing",
]
